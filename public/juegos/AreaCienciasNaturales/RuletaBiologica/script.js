const preguntas = {
  preguntas: {
    "A": [
      {
        "pregunta": "¿Cómo se denominan los organismos que pueden fabricar su propio alimento?",
        "respuesta": "Autotrofos"
      },
      {
        "pregunta": "¿Cómo se llama la hormona producida por las glándulas suprarrenales que prepara al cuerpo para una situación de peligro o estrés?",
        "respuesta": "Adrenalina"
      },
      {
        "pregunta": "Son Organismos unicelulares o pluricelulares, que viven preferentemente en el agua, tanto dulce como marina, y que en general están provistas de clorofila, acompañada en ocasiones de otros pigmentos de colores variados.",
        "respuesta": "Algas"
      }
    ],
    "B": [
      {
        "pregunta": "Son bacterias que en su morfología presentan  forma de cilindros alargados",
        "respuesta": "Bacilos"
      },
      {
        "pregunta": "Son los microrganismos mas abundantes pertenecientes al reino Monera?",
        "respuesta": "Bacterias"
      },
      {
        "pregunta": " Nombre de la teoría que indica que hubo una gran exploción que quedió origen a la materia el espacio y el tiempo en el universo",
        "respuesta": "Big Bang"
      }
    ],
    "C": [
      {
        "pregunta": "¿Cómo se llama el Organelo responsable de la fotosíntesis en las células vegetales?",
        "respuesta": "Cloroplasto"
      },
      {
        "pregunta": "¿Cómo se denomimnan a los mamiferos adaptados a la vida acuática como el Delfín rosado?",
        "respuesta": "Cetáceos"
      },
      {
        "pregunta": "¿Cómo se llama la sustancia que se encuentra en las células vegetales y le da rigidez?",
        "respuesta": "Celulosa"
      }
    ],
	   "D": [
      {
        "pregunta": "¿Como se le conoce al científico que postuló que los átomos eran pequeñas esferas rígidas, indivisibles e indestructibles?",
        "respuesta": "Dalton"
      },
      {
        "pregunta": "Es la resistencia que oponen las sustancias a ser rayadas",
        "respuesta": "Dureza"
      },
      {
        "pregunta": "Es la relación que existe entre la masa de una sustancia y su volumen.",
        "respuesta": "Densidad"
      }
    ],
	"E": [
      {
        "pregunta": "¿Cómo se llama el proceso por el cual ocurre la salida sustancias o grupos de moléculas desdes el interior de la célula?",
        "respuesta": "Exocitosis"
      },
      {
        "pregunta": "Es el filo de animales marinos a los que pertenecen las Estrellas de mar",
        "respuesta": "Equinodermos"
      },
      {
        "pregunta": " Es el proceso mediante el cual, introduciendo energía calórica, parte de la masa de un líquido (no necesariamente la totalidad de la masa) se transforma en gas",
        "respuesta": "Evaporación"
      }
    ],
	"F": [
      {
        "pregunta": "¿Cómo se llama el proceso por el cual las células incorporan dentro de ellas moléculas, grandes o pequeñas,?",
        "respuesta": "Fagocitosis"
      },
      {
        "pregunta": "¿Cómo se llama el proceso de transformación de la energía lumínica en energía química que realizan las plantas?",
        "respuesta": "Fotosíntesis"
      },
      {
	  
        "pregunta": "¿Cómo es el nombre de la estructra celula que tiene en forma de látigo que se emplea para la movilidad en algunos son parásitos o tras células?",
        "respuesta": "Flajelo"
      }
    ],
		"G": [
      {
        "pregunta": "¿Cómo se llama el grupo de plantas que no tienen flores ni frutos verdaderos, pero sí producen semillas.?",
        "respuesta": "Gimnospermas"
      },
      {
        "pregunta": "Estado de la materia que se caracteriza porque sus partículas no están cohesionadas, y tienden a dispersarse, por lo que no tienen forma ni volumen fijos.",
        "respuesta": "Gaseoso"
      },
      {
	  
        "pregunta": "Azúcar común, con seis átomos de carbono (C6H12O6)",
        "respuesta": "Glucosa"
      }
    ],
	"H": [
      {
        "pregunta": "¿ Sí la concentración de solutos es mayor en el medio extracelular es una solución?",
        "respuesta": "Hipertónica"
      },
      {
        "pregunta": "Si la concentración en el medio es menor fuera de la celula que en el interior de la misma se dice que se encuentra en una solución?",
        "respuesta": "Hipotónica"
      },
      {
	  
        "pregunta": "¿Cómo se llama el pigmento que da el color rojo a la sangre?",
        "respuesta": "Hemoglobina"
      }
    ],
	"I": [
      {
        "pregunta": "Son aquellos animales que carecen de cuerda dorsal, columna vertebral y esqueleto interno. Es decir, no tienen huesos",
        "respuesta": "Invertebrados"
      },
      {
        "pregunta": "Son animales invertebrados del filo de los artrópodos, caracterizados por presentar un par de antenas?",
        "respuesta": "Insecto"
      },
      {
        "pregunta": "¿Cómo se llama el proceso en el cual el agua que ha caído en la superficie terrestre como consecuencia de las precipitaciones penetra en el suelo. Una parte es aprovechada por la naturaleza y los seres vivos, mientras que la otra se incorpora a las aguas subterráneas?",
        "respuesta": "Infiltración"
      }
    ],
    "J": [
      
      {
        "pregunta": "Es la unidad de medida de energía definida por el Sistema Internacional de Unidades",
        "respuesta": "Julio"
      }
    ],
    "K": [
      {
        "pregunta": " Es la unidad de temperatura en el sistema internacional",
        "respuesta": "Kelvin"
      }
    ],
	   "L": [
      {
        "pregunta": "¿Cómo se llama el organelo encargado de la digestión intracelular?",
        "respuesta": "Lisosomas"
      },
      {
        "pregunta": "¿Cómo se llama el centífico conocido como el padre de la Microbiología moderna, quien demostro la falsedad de la teoría de la Generación Espontánea?",
        "respuesta": "Louis Pasteur"
      },
      {
        "pregunta": "¿Cómo se llama el estado de la materia en el que las partículas se encuentran bastante juntas para conservar una cohesión mínima y a la vez que lo suficientemente dispersas para permitir la fluidez y el cambio de forma?",
        "respuesta": "Líquido"
      }
    ],
	"M": [
      {
        "pregunta": "¿Cómo se llama el instrumento que permite observar objetos que son demasiado pequeños como para ser vistos por la vista del ser humano.?",
        "respuesta": "Microscopio"
      },
      {
        "pregunta": "Se denomina el conjunto de normas por el cual debemos regirnos para producir conocimiento con rigor y validez científica",
        "respuesta": "Método Científico"
      },
      {
        "pregunta": "Es la fábrica de energía de las células. Aquí se efectúa la respiración celular",
        "respuesta": "Mitocondria"
      }
    ],
	"N": [
      {
        "pregunta": "Nombre de partícula subatómica presente en el núcleo de algunos átomos y dotada de una carga eléctrica neutra",
        "respuesta": "Neutrón"
      },
      {
        "pregunta": " Nombre del organelo celular que contiene el material genético en las células eucariotas.",
        "respuesta": "Nucleo"
      },
      {
	  
        "pregunta": "Son sustancias químicas esenciales para el crecimiento, mantenimiento y funcionamiento del cuerpo",
        "respuesta": "Nutrientes"
      }
    ],
		"O": [
      {
        "pregunta": "Es el proceso de difusión de agua a través de una membrana semipermeable","respuesta": "Osmosis"
      },
      {
        "pregunta": "Es la parte del microscopio que magnifica la imagen producida por el objetivo del microscopio, por donde podemos observar (Singular)",
        "respuesta": "Ocular"
      },
      {
	  
        "pregunta": "Clasificación de los organismos según su tipo alimentación en los que se alimentan tanto de animales como de plantas (Plural)",
        "respuesta": "Omnivoros"
      }
    ],
	"P": [
      {
        "pregunta": " Es el procesos en en el cual las vesículas permiten la ingestión de líquidos y partículas en disolución en las Celulas",
        "respuesta": "Pinocitosis "
      },
      {
        "pregunta": " Nombre de la una partícula subatómica con una carga eléctrica elemental positiva",
        "respuesta": "Protón"
      },
      {
	  
        "pregunta": "Se llama así a la cadena molecular de gran tamaño compuestas por piezas más simples y unidas, para lograr secuencias más largas, que tengan propiedades nuevas y específicas.",
        "respuesta": "Polimero"
      },
      {
        "pregunta": "Es la fuerza con la cual la gravedad atrae un cuerpo hacia el centro de la Tierra",
        "respuesta": "Peso"
      }
    ],
	"Q": [
      {
        "pregunta": "Es la ciencia natural que estudia la composición, estructura y propiedades de la materia",
        "respuesta": "Química"
      },
      {
        "pregunta": "Es una proteína que, entre otras funciones, contribuye al endurecimiento de la capa superficial de la piel y del pelo",
        "respuesta": "Queratina"
      }
    ],
    "R": [
      {
        "pregunta": "¿Cómo se llama la estructura celular encargada de la producción de proteínas?",
        "respuesta": "Ribosoma"
      },
      {
        "pregunta": "¿Cómo se llama el proceso celular en el que se utiliza el oxígeno para producir energía?",
        "respuesta": "Respiración celular"
      },
      {
        "pregunta": "Son un grupo de animales vertebrados, provistos de escamas epidérmicas, mudan su piel y habitan lugares secos.",
        "respuesta": "Reptiles"
      }
    ],
    "S": [
      {
        "pregunta": "Estado de la materia que se caracteriza por una disposición específica sus partículas, basada en nexos muy rígidos y fuertes, lo cual se traduce en una estructura física muy bien definida?",
        "respuesta": "Solido"
      },
      {
        "pregunta": "¿ Cuál es nombre del proceso mediante el cual, suministrando calor, un sólido se transforma en gas, sin pasar antes por el estado líquido?",
        "respuesta": "Sublimación"
      },
      {
        "pregunta": "la propiedad que tienen algunas sustancias para disolverse en un líquido formando una solución",
        "respuesta": "Solubilidad"
      }
    ],
	   "T": [
      {
        "pregunta": "¿Cómo se llama la rama de la Biología que se ocupa de clasificar y dar nombre a los seres vivos?",
        "respuesta": "Taxonimía"
      },
      {
        "pregunta": "¿Cómo se llama el Mecanismo por el cual las sustancias atraviesan la membrana celular a favor de sus gradientes de concentración, por lo tanto, no requieren de un aporte energético?",
        "respuesta": "Transporte Pasivo"
      },
      {
        "pregunta": "¿Cómo se llama el Mecanismo por el cual las sustancias que atraviesan la membrana plasmática en contra de un gradiente de concentración y por ello necesitan el aporte energético del ATP?",
        "respuesta": "Transporte Activo"
      }
    ],
	"U": [
      {
        "pregunta": "¿Característica que describe cuando un organismo esta conformado por una sola célula?",
        "respuesta": "Unicelular"
      },
      {
        "pregunta": "Estructura dura que cubre y protege la parte superior de la punta de los dedos del ser humano y otros vertebrados (Plural).",
        "respuesta": "Uñas"
      },
      {
        "pregunta": " Nombre del Órgano interno de las hembras de los animales vivíparos en el que se desarrolla el feto",
        "respuesta": "Útero"
      }
    ],
	"V": [
      {
        "pregunta": "Son pequeñas bolsas que almacenan y transportan enzimas e iones en las células",
        "respuesta": "Vacuolas"
      },
      {
        "pregunta": " Son aquellos animales que poseen espina dorsal o columna vertebral.",
        "respuesta": "Vertebrados"
      },
      {
	  
        "pregunta": " Es el espacio que ocupa un cuerpo. Se expresa en cm3 o m3",
        "respuesta": "Volumen"
      }
    ],
	"W": [
      {
        "pregunta": "Es la unidad de medida de la potencia (En Inglés)",
        "respuesta": "WATT"
      }
    ],
	"X": [
      {
        "pregunta": "Pigmentos de coloración amarilla parda presentes en hojas, frutos y flores.",
        "respuesta": "Xantofilas"
      },
      {
        "pregunta": "Es una estructura que transporta, a través de la planta, agua y sales minerales disueltas",
        "respuesta": "Xilema"
      }
    ],
	"Y": [
      {
        "pregunta": "Núcleo de los huevos de los vertebrados ovíparos; es esferoidal (singular)",
        "respuesta": "Yema"
      }
    ],
    "Z": [
      {
        "pregunta": "¿Nombre de La rama de la biología que se ocupa del estudio de los animales.?",
        "respuesta": "Zoología"
      },
      {
        "pregunta": "Es una división parafilética de hongos que se caracterizan por formar zygosporas con gruesas paredes, de origen sexual y esporangiosporas no nadadoras, de origen asexual",
        "respuesta": "Zygomycota"
      }
    ]
  }
};
let conse = 0;
let respuestaPreg="";
let letraActual = "";
$(document).ready(function () {
  setTimeout(function () {
    let audio2 = new Audio("../../sounds/enunciado_vocales_1.mp3");
    audio2.play();
  }, 100);

  setTimeout(() => {
    $("#principal").fadeToggle(1000);
    $("#fondo_blanco").fadeToggle(3000);
    setTimeout(() => {
      const divAnimado = document.querySelector(".overlay");
      divAnimado.style.animationName = "moverDerecha";
      divAnimado.style.animationDirection = "normal";
      divAnimado.style.display = "block";
      setTimeout(() => {
        const divAnimado2 = document.querySelector(".nube");
        divAnimado2.style.animationName = "moverArriba";
        divAnimado2.style.animationDirection = "normal";
        divAnimado2.style.display = "block";
        setTimeout(() => {
          divAnimado.style.backgroundImage = "url(../../images/normal2.gif)";
          maquina2(
            "bienvenida",
            "Hola, soy Genio. <br> En este juego debes ir respondiendo las preguntas que se iran presentando, el juego te indicara la letra por la cual inica la respuesta de la pregunta",
            50,
            1
          );
        }, 3000);
      }, 2000);
    });
  }, 200);
});

function maquina2(contenedor, texto, intervalo, n) {
  var i = 0,
    // Creamos el timer
    timer = setInterval(function () {
      if (i < texto.length) {
        // Si NO hemos llegado al final del texto..
        // Vamos añadiendo letra por letra y la _ al final.
        $("#" + contenedor).html(texto.substr(0, i++) + "_");
      } else {
        // En caso contrario..
        // Salimos del Timer y quitamos la barra baja (_)
        clearInterval(timer);
        $("#" + contenedor).html(texto);
        if (!cerrardo) {
          document.querySelector("#btnomitir").style.display = "none";
          setTimeout(() => {
            cerrar_anuncio();
          }, 3000);
        }
        // Auto invocamos la rutina n veces (0 para infinito)
        if (--n != 0) {
          setTimeout(function () {
            maquina2(contenedor, texto, intervalo, n);
          }, 3600);
        }
      }
    }, intervalo);
}

let cerrardo = false;
function cerrar_anuncio() {
  cerrardo = true;
  const divAnimado2 = document.querySelector(".nube");
  divAnimado2.style.animationName = "moverabajo";
  const divAnimado = document.querySelector(".overlay");
  divAnimado.style.backgroundImage = "url(../../images/normal1.gif)";
  $("#fondo_blanco").fadeToggle(3000);
  setTimeout(function () {
    divAnimado.style.animationName = "moverIzquierda";
    divAnimado.style.animationDirection = "normal";
    setTimeout(() => {
      $("#principal").fadeToggle(1000);
      iniciarJuego();
    }, 2000);
  }, 2000);
}

function iniciarJuego() {
  inicioTiempo();
  siguientePregunta();
}



function siguientePregunta() {

    document.getElementById("respuesta").value="";
    document.getElementById("respuesta").style.backgroundColor="#FFFFFF";
    document.getElementById("RespuestaCorrecta").innerHTML="";


   const letras = Object.keys(preguntas["preguntas"]);
  if (conse <= 27) {
     letraActual = letras[conse];
    
    const preguntasDeLetra = preguntas["preguntas"][letraActual];

    let numAleatorio=Math.floor(Math.random() * preguntasDeLetra.length);

    const preguntaAleatoria = preguntasDeLetra[numAleatorio];

    // Muestra la pregunta
    document.getElementById("texxtPregunta").innerHTML =preguntaAleatoria.pregunta;
    document.getElementById("divLetra").innerHTML =letraActual;
    respuestaPreg =preguntaAleatoria.respuesta.toLowerCase();

    conse++;

    let miBoton = document.getElementById(letraActual );
 
    miBoton.style.color="#000000";
    

  }else{
    resultadoFinal();
  }
}

let respuesta_correcta=0;

function verificarRespuesta(){
  let respuesta= document.getElementById("respuesta").value.toLowerCase();

  console.log(respuesta+"=="+respuestaPreg);
  if(respuesta==respuestaPreg){
    respuesta_correcta++;
    document.getElementById("respuesta").style.backgroundColor="#71d90b";
  }else{
    document.getElementById("respuesta").style.backgroundColor="#DD1D39";
    document.getElementById("RespuestaCorrecta").innerHTML=respuestaPreg;

  }

  setTimeout(() => {
    siguientePregunta();
  }, 2000);
  
}

function inicioTiempo() {
  // Obtenemos el elemento del contador
  var contador = document.getElementById("contador");

  // Convertimos 3 minutos a milisegundos
  var tiempoLimite = 3 * 60 * 1000;

  // Obtenemos la hora actual
  var horaActual = new Date().getTime();

  // Establecemos la hora límite
  var horaLimite = horaActual + tiempoLimite;

  // Actualizamos el contador cada segundo
  var intervalo = setInterval(function () {
    // Obtenemos la hora actual
    var horaActual = new Date().getTime();

    // Calculamos la distancia entre la hora límite y la hora actual
    var distancia = horaLimite - horaActual;

    // Calculamos los minutos y segundos restantes
    var minutos = Math.floor((distancia % (1000 * 60 * 60)) / (1000 * 60));
    var segundos = Math.floor((distancia % (1000 * 60)) / 1000);

    // Mostramos el contador en formato mm:ss
    contador.innerHTML =
      (minutos < 10 ? "0" : "") +
      minutos +
      ":" +
      (segundos < 10 ? "0" : "") +
      segundos;

    // Si el tiempo ha expirado, detenemos el intervalo y mostramos un mensaje
    if (distancia < 0) {
      clearInterval(intervalo);
      contador.innerHTML="00:00";
      resultadoFinal();
    }
  }, 1000);
}

function resultadoFinal(){

    $("#principal").fadeToggle(1000);
    $("#final").fadeToggle(1000);

    let npreg =conse;
    let prom= npreg/2;



    if (respuesta_correcta <= prom) {
        var audio = new Audio("../../sounds/game_over.mp3");
        audio.play();
        document.getElementById("final").style.backgroundImage =
            "url(../../images/derrota.gif)";
    } else {
        document.getElementById("final").style.backgroundImage =
            "url(../../images/victoria.gif)";
        var audio = new Audio("../../sounds/victory.mp3");
        audio.play();
    }
    document.getElementById("texto_final").innerText ="Lograste Llegar hasta la letra "+letraActual+ " y  contestaste "+respuesta_correcta+" de "+npreg+" pregustas correctamente";
}

